const e={containerListRef:document.querySelector(".js-list"),guard:document.querySelector(".js-guard")},n={headers:{Authorization:"Bearer 3sru3q0Sisxo4TsZOe23"}};let t=1;function r(e=1){return fetch(`https://the-one-api.dev/v2/character?page=${e}&limit=300`,n).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}function o(n){const t=n.map((({name:e,race:n})=>`<li>\n          <h2>${e}</h2>\n          <p>${n}</p>\n        </li>`)).join("");e.containerListRef.insertAdjacentHTML("beforeend",t)}r().then((n=>{o(n.docs),s.observe(e.guard)})).catch((e=>console.log(e)));const s=new IntersectionObserver((function(n){n.forEach((n=>{console.log(n.isIntersecting),n.isIntersecting&&(t+=1,r(t).then((n=>{o(n.docs),n.page===n.pages&&s.unobserve(e.guard)})))}))}),{root:null,rootMargin:"300px"});
//# sourceMappingURL=add-class.1edf4f59.js.map
