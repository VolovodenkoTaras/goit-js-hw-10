!function(){function e(e){return e&&e.__esModule?e.default:e}var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var n={};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){t&&r(e.prototype,t);n&&r(e,n);return e};var a={headers:{"X-Api-Key":"dd82ff3604224bf1b224da3ef75c9135"}},i=function(){"use strict";function r(){e(t)(this,r),this.page=1,this.searchQuery=""}return e(n)(r,[{key:"getNews",value:function(){var e=this,t="".concat("https://newsapi.org/v2/everything","?q=").concat(this.searchQuery,"&pageSize=5&page=").concat(this.page);return fetch(t,a).then((function(e){return e.json()})).then((function(t){var n=t.articles;return e.nextPage(),n}))}},{key:"nextPage",value:function(){this.page+=1}},{key:"resetPage",value:function(){this.page=1}}]),r}(),o=function(){"use strict";function r(n){var a=n.selector,i=n.isHidden;e(t)(this,r),this.button=this.getButton(a),i?this.hide():this.show()}return e(n)(r,[{key:"getButton",value:function(e){return document.querySelector(e)}},{key:"hide",value:function(){this.button.classList.add("hidden")}},{key:"show",value:function(){this.button.classList.remove("hidden")}},{key:"disable",value:function(){this.button.disabled=!0,this.button.textContent="Loading..."}},{key:"enable",value:function(){this.button.disabled=!1,this.button.textContent="Load more"}}]),r}(),c=document.getElementById("form"),u=document.getElementById("newsWrapper"),s=new i,l=new o({selector:"#loadMore",isHidden:!0});function d(){return l.disable(),s.getNews().then((function(e){if(0===e.length)throw new Error("No data");return e.reduce((function(e,t){return r=(n=t).author,a=n.title,i=n.description,o=n.url,c=n.urlToImage,'\n  <div class="article-card">\n    <img src='.concat(c,' class="article-img" />\n    <h2 class="article-title">').concat(a,'</h2>\n    <h3 class="article-author">').concat(r||"anonymous",'</h3>\n    <p  class="article-description">').concat(i,"</p>\n    <a href=").concat(o,' class="article-link" target="_blank">Read more</a>\n  </div>\n  ')+e;var n,r,a,i,o,c}),"")})).then((function(e){f(e),l.enable()})).catch(h)}function f(e){u.insertAdjacentHTML("beforeend",e)}function h(e){console.error(e),l.hide(),f("<p>Articles not found</p>")}c.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget,n=t.elements.news.value.trim();s.searchQuery=n,s.resetPage(),u.innerHTML="",l.show(),d().finally((function(){return t.reset()}))})),l.button.addEventListener("click",d)}();
//# sourceMappingURL=news-wrapper.8c431348.js.map
