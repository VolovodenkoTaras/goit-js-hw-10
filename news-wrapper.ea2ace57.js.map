{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/news-wrapper/NewsApiService.js","<<jsx-config-pragma.js>>","src/js/news-wrapper/LoadMoreBtn.js","src/js/news-wrapper/script.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","const ENDPOINT = `https://newsapi.org/v2/everything`;\nconst options = {\n  headers: {\n    \"X-Api-Key\": \"9699272ded324d29952ed472c40bb7e9\",\n  },\n};\n\nexport default class NewsApiService {\n  constructor() {\n    this.page = 1;\n    this.searchQuery = \"\";\n  }\n\n  getNews() {\n    const URL = `${ENDPOINT}?q=${this.searchQuery}&pageSize=5&page=${this.page}`;\n\n    return fetch(URL, options)\n      .then((response) => response.json())\n      .then(({ articles }) => {\n        this.nextPage();\n        return articles;\n      });\n  }\n\n  nextPage() {\n    this.page += 1;\n  }\n  resetPage() {\n    this.page = 1;\n  }\n}\n",null,"export default class LoadMoreBtn {\n  constructor({ selector, isHidden }) {\n    this.button = this.getButton(selector);\n    if (isHidden) this.hide();\n    else this.show();\n  }\n\n  getButton(selector) {\n    return document.querySelector(selector);\n  }\n\n  hide() {\n    this.button.classList.add(\"hidden\");\n  }\n\n  show() {\n    this.button.classList.remove(\"hidden\");\n  }\n\n  disable() {\n    this.button.disabled = true;\n    this.button.textContent = \"Loading...\";\n  }\n  enable() {\n    this.button.disabled = false;\n    this.button.textContent = \"Load more\";\n  }\n}\n","import NewsApiService from \"./NewsApiService.js\";\nimport LoadMoreBtn from \"./LoadMoreBtn.js\";\n\nconst form = document.getElementById(\"form\");\nconst newsWrapper = document.getElementById(\"newsWrapper\");\n\nconst newsApiService = new NewsApiService();\nconst loadMoreBtn = new LoadMoreBtn({\n  selector: \"#loadMore\",\n  isHidden: true,\n});\n\n// console.log(newsApiService);\n// console.log(loadMoreBtn);\n\nform.addEventListener(\"submit\", onSubmit);\nloadMoreBtn.button.addEventListener(\"click\", fetchArticles);\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  const form = e.currentTarget;\n  const value = form.elements.news.value.trim();\n\n  newsApiService.searchQuery = value;\n\n  newsApiService.resetPage();\n  clearNewsList();\n  loadMoreBtn.show();\n  fetchArticles().finally(() => form.reset());\n}\n\nfunction fetchArticles() {\n  loadMoreBtn.disable();\n\n  return newsApiService\n    .getNews()\n    .then((articles) => {\n      if (articles.length === 0) throw new Error(\"No data\");\n\n      return articles.reduce(\n        (markup, article) => createMarkup(article) + markup,\n        \"\"\n      );\n    })\n    .then((markup) => {\n      appendNewsToList(markup);\n      loadMoreBtn.enable();\n    })\n    .catch(onError);\n}\n\nfunction appendNewsToList(markup) {\n  newsWrapper.insertAdjacentHTML(\"beforeend\", markup);\n}\n\nfunction clearNewsList() {\n  newsWrapper.innerHTML = \"\";\n}\n\nfunction createMarkup({ author, title, description, url, urlToImage }) {\n  return `\n  <div class=\"article-card\">\n    <img src=${urlToImage} class=\"article-img\" />\n    <h2 class=\"article-title\">${title}</h2>\n    <h3 class=\"article-author\">${author || \"anonymous\"}</h3>\n    <p  class=\"article-description\">${description}</p>\n    <a href=${url} class=\"article-link\" target=\"_blank\">Read more</a>\n  </div>\n  `;\n}\n\nfunction onError(err) {\n  console.error(err);\n  loadMoreBtn.hide();\n  appendNewsToList(\"<p>Articles not found</p>\");\n}\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$57c47cf0d73e6f78$var$options","headers","$57c47cf0d73e6f78$export$2e2bcd8739ae039","NewsApiService","this","page","searchQuery","URL","concat","fetch","then","response","json","param","articles","_this","nextPage","$153c7c11f4b04b5b$export$2e2bcd8739ae039","LoadMoreBtn","selector","isHidden","button","getButton","hide","show","document","querySelector","classList","add","remove","disabled","textContent","$5e0eb33e21268fe0$var$form","getElementById","$5e0eb33e21268fe0$var$newsWrapper","$5e0eb33e21268fe0$var$newsApiService","$5e0eb33e21268fe0$var$loadMoreBtn","$5e0eb33e21268fe0$var$fetchArticles","disable","getNews","Error","reduce","markup","article","author","title","description","url","urlToImage","$5e0eb33e21268fe0$var$appendNewsToList","enable","catch","$5e0eb33e21268fe0$var$onError","insertAdjacentHTML","err","console","error","addEventListener","e","preventDefault","form1","currentTarget","elements","news","trim","resetPage","innerHTML","finally","reset"],"version":3,"file":"news-wrapper.ea2ace57.js.map"}